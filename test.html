
<iframe src="https://gold.webgame.cz/wg/index.php?p=konflikty&s=awarstat" id="iframe" name="podelanyfrejm" width="100" height="100" >
</iframe>

<script>
//alert('dafsdfs');
console.log('test10');

//var x = document.getElementById("iframe");
//var y = (x.contentWindow || x.contentDocument);
//if (y.document)y = y.document;
//y.body.style.backgroundColor = "red";

//var tabulek = y.getElementsByClassName("vis_tbl").length;

/*
var iframe = document.getElementById("iframe");
  let oldDoc = iframe.contentDocument;
  iframe.onload = function() {
    let newDoc = iframe.contentDocument;
    // the loaded document is not the same as initial!
   // alert(oldDoc == newDoc); // false
   var tabulek = newDoc.getElementsByClassName("vis_tbl").length;
console.log('pocet tabulke:'+tabulek);
  };
*/

//window.frames[]
// var tabulek = window.frames[0].document.getElementsByClassName("vis_tbl").length;

//var tabulek = x.getElementsByClassName("vis_tbl").length;



/*
var iframe = document.getElementById("iframe");
  iframe.onload = function() {
    // we can get the reference to the inner window
    let iframeWindow = iframe.contentWindow;

    try {
      // ...but not to the document inside it
      let doc = iframe.contentDocument;
    } catch(e) {
      alert(e); // Security Error (another origin)
    }

    // also we can't read the URL of the page in it
    try {
      alert(iframe.contentWindow.location);
    } catch(e) {
      alert(e); // Security Error
    }
*/

    // ...but we can change it (and thus load something else into the iframe)!
   // iframe.contentWindow.location = '/'; // works
  
 
//var tabulek = iframe.contentWindow.document.getElementsByClassName("vis_tbl").length;
   // iframe.onload = null; // clear the handler, to run this code only once
  //};
    var tabulek = window.frames.podelanyfrejm.document.getElementsByClassName("vis_tbl").length;
  

console.log('pocet tabulke:'+tabulek);
</script>
